statis
===========
本模块主要集中了与统计及回归分析相关的功能函数

.. py:function:: array_area_mean(arr,fill_value=None)
  :module: algom.statis

  计算区域平均
  该函数将计算空间数组的区域平均值

  :param numpy.ndarray arr:
    待处理的原始数组，该数组的维度至少为2，若数组维度大于2，则其最右侧的两个维度须为经纬坐标，如(time,lat,lon)

  :param fill_value:
    数据缺省值，若数据中存在缺省，请将该参数赋值为缺省值，否则计算得到的数据为虚假数据。
  :type fill_value: None, float or int

  :return:
    经过计算后得到的区域平均数组，其维数将比原始数组少2。

  :rtype: numpy.ndarray

  **示例**

  .. sourcecode:: python

    >>> import numpy as np
    >>> import algom.statis as statis

    # 该语句可以获得自带样例数据路径
    >>> from testlib.sample_data import array_sample_path

    # 加载样例数据
    >>> sample = np.load(array_sample_path())

    # 查看样例数据的维度信息，其维度信息为 60 x 180 x 360，
    # 说明：该样例维度组成为(time,lat,lon)
    >>> sample.shape
    (60, 180, 360)

    # 查看样例数据，发现样例数据中存在大量以-9999作为值的缺省
    >>> sample[0]
    array([[-9999., -9999., -9999., ..., -9999., -9999., -9999.],
           [-9999., -9999., -9999., ..., -9999., -9999., -9999.],
           [-9999., -9999., -9999., ..., -9999., -9999., -9999.],
           ...,
           [   89.,    79.,   110., ...,    99.,    73.,   123.],
           [  103.,    89.,   117., ...,   107.,    88.,   124.],
           [  146.,    96.,    95., ...,    75.,   103.,   158.]])

    # 对样例数据进行区域平均计算，设置缺省值为-9999
    >>> area_mean = statis.array_area_mean(sample,fill_value=-9999)

    # 查看处理结果的维度信息，
    # 可以看到，经过处理后的数据已经降到一维，即只剩时间维
    >>> area_mean.shape
    (60,)

    # 查看处理后的数据值
    # 该样例数据的物理意义是液态云水路径（LWP）
    >>> area_mean
    array([ 144.8618261 ,  167.89783351,  222.64986684,  167.88972862,
            152.66417121,  148.35237346,  147.92176898,  159.62418477,
            190.85580189,  188.49299179,  163.08826766,  142.35336827,
            152.10424399,  175.15126043,  204.97411914,  190.68251399,
            148.41361916,  144.07200495,  143.36070443,  153.28463659,
            188.25254651,  184.63940359,  152.52124035,  141.72818126,
            144.98190537,  176.8913243 ,  212.27151038,  169.37740344,
            150.48879837,  145.45350781,  143.76670305,  159.03924976,
            188.65932368,  181.84297621,  155.42023686,  138.61373365,
            145.44528896,  168.6988222 ,  191.10826741,  161.59488741,
            151.86737998,  146.01663097,  143.88816537,  159.59065392,
            190.49645556,  188.33665917,  157.72631155,  137.73068253,
            147.48557969,  168.20355919,  209.6018058 ,  167.15713193,
            149.14730259,  140.69769473,  143.19762286,  156.5183357 ,
            183.84408836,  191.18815922,  154.25274534,  137.73323471])
